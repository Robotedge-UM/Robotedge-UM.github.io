// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String       @id @default(cuid())
  name             String
  email            String       @unique
  password         String
  phoneNumber      String?
  address          String?
  city             String?
  country          String?
  role             Role         @default(USER)
  isActive         Boolean      @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

enum Role {
  USER
  ADMIN
  SUPERADMIN
}

// Landing Page Customization Models (adapted for Robotedge)
model LandingPageSettings {
  id String @id @default(cuid())
  
  // Company branding
  companyName        String  @default("Robotedge")
  companyLogo        String? // URL to logo image
  primaryColor       String  @default("#1E4D72") // Robotedge blue
  secondaryColor     String  @default("#00BCD4") // Robotedge teal
  
  // Hero section
  heroTitle          String  @default("Welcome to Robotedge")
  heroSubtitle       String  @default("AI Robotics Lab of Universiti Malaya")
  heroDescription    String  @default("Robotedge is the AI Robotics Lab of Universiti Malaya, led by Dr. Zati Hakim Azizul Hasan. We specialize in service robotics and humanoid soccer, advancing ethical robotics guided by our EDGE principles: Ethics, Diversity, Green technology, and Engagement with society.")
  heroImage          String? // URL to hero image/video
  
  // Statistics
  activeMembersCount String  @default("20+")
  totalAchievements  String  @default("5+")
  memberSatisfaction String  @default("100%")
  
  // Contact information
  contactEmail       String  @default("umrobotedge@gmail.com")
  contactPhone       String?
  supportEmail       String  @default("umrobotedge@gmail.com")
  
  // Social media links
  facebookUrl        String?
  twitterUrl         String?
  linkedinUrl        String?
  instagramUrl       String?
  
  // SEO settings
  metaTitle          String  @default("Robotedge - AI Robotics Lab | University of Malaya")
  metaDescription    String  @default("Robotedge AI Robotics Lab at University of Malaya. RoboCup champions in service robotics & humanoid soccer. Led by Dr. Zati Hakim Azizul Hasan.")
  
  isActive           Boolean @default(true)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
}

model LandingPageContent {
  id          String           @id @default(cuid())
  page        LandingPageType  // HOME, ABOUT, ROBOCUP, RESEARCH, etc.
  section     String           // e.g., "hero", "about", "robocup", "research"
  title       String?
  subtitle    String?
  content     String?          // JSON or HTML content
  imageUrl    String?
  order       Int              @default(0) // For ordering sections
  isActive    Boolean          @default(true)
  createdAt   DateTime         @default(now())
  updatedAt   DateTime         @updatedAt
  
  @@unique([page, section])
}

enum LandingPageType {
  HOME
  ABOUT
  ROBOCUP
  RESEARCH
  PUBLICATIONS
  INDUSTRIAL
}

model FAQ {
  id          String   @id @default(cuid())
  question    String
  answer      String   // Can contain HTML
  category    String?  @default("General")
  order       Int      @default(0)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

// Portfolio Models (for future portfolio functionality)
model Project {
  id          String   @id @default(cuid())
  title       String
  description String
  content     String?  // Detailed description in markdown
  imageUrl    String?
  demoUrl     String?
  githubUrl   String?
  tags        String[] @default([])
  category    String?  // "RoboCup", "Research", "Academic", etc.
  featured    Boolean  @default(false)
  order       Int      @default(0)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Publication {
  id          String   @id @default(cuid())
  title       String
  authors     String[] @default([])
  journal     String?
  conference  String?
  year        Int
  abstract    String?
  pdfUrl      String?
  doi         String?
  tags        String[] @default([])
  category    String?  // "Journal", "Conference", "Workshop", etc.
  featured    Boolean  @default(false)
  order       Int      @default(0)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model TeamMember {
  id          String   @id @default(cuid())
  name        String
  role        String   // "Academic Supervisor", "PhD Student", "Master Student", etc.
  email       String?
  bio         String?
  imageUrl    String?
  linkedinUrl String?
  githubUrl   String?
  website     String?
  isActive    Boolean  @default(true)
  order       Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

// New models for Home Page Content Management
model HomeSection {
  id        String      @id @default(cuid())
  section   HomeSectionType
  title     String?
  subtitle  String?
  content   String?     // JSON or HTML content
  imageUrl  String?
  order     Int         @default(0)
  isActive  Boolean     @default(true)
  metadata  Json?       // Additional metadata for flexible content
  createdAt DateTime    @default(now())
  updatedAt DateTime    @updatedAt
  
  @@unique([section])
}

enum HomeSectionType {
  HERO
  ABOUT
  RESEARCH_INTRO
  NEWS_EVENTS
}

model ResearchArea {
  id          String   @id @default(cuid())
  title       String
  description String?
  imageUrl    String?
  order       Int      @default(0)
  isActive    Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model NewsEvent {
  id          String   @id @default(cuid())
  title       String
  content     String
  imageUrl    String?
  date        DateTime
  featured    Boolean  @default(false)
  isActive    Boolean  @default(true)
  order       Int      @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model MediaFile {
  id          String   @id @default(cuid())
  filename    String
  originalName String
  mimeType    String
  size        Int
  url         String
  section     String?  // Which section this image belongs to
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}